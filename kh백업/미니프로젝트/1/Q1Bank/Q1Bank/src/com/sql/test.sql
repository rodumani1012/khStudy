DROP TABLE BANK;
DROP TABLE TRADE_LIST;

CREATE SEQUENCE ACC;

CREATE TABLE BANK(
   ACCOUNT VARCHAR2(300) PRIMARY KEY,
   NAME VARCHAR2(100) NOT NULL,
   PASSWORD VARCHAR2(300) NOT NULL,
   T_BALANCE NUMBER NOT NULL,
   REG_DATE DATE
);


CREATE TABLE TRADE_LIST(
   ACCOUNT VARCHAR2(300) ,
   TRADE_DATE DATE NOT NULL,
   SENDER VARCHAR2(100) NOT NULL,
   MESSAGE VARCHAR2(600),
   INPUT NUMBER,
   OUTPUT NUMBER,
   BALANCE NUMBER NOT NULL
);

ALTER TABLE TRADE_LIST ADD CONSTRAINT ACC_FK FOREIGN KEY (ACCOUNT)
REFERENCES BANK(ACCOUNT);
INSERT INTO BANK VALUES('01011111111','최준연','0000',100000,SYSDATE);
INSERT INTO BANK VALUES('01000000000','huisoo','0000',100000,SYSDATE);
INSERT INTO TRADE_LIST values('01000000000',SYSDATE,'최준연','멍청',NULL,NULL,10000);

UPDATE BANK SET T_BALANCE=20000 WHERE ACCOUNT='01000000000';
SELECT * FROM TRADE_LIST ORDER BY TRADE_DATE;
SELECT * FROM BANK ORDER BY ACCOUNT;


SELECT ACCOUNT FROM BANK WHERE ACCOUNT=? AND PASSWORD=?;